{"version":3,"sources":["../node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js","../node_modules/grommet/es6/components/hocs.js","../node_modules/recompose/getDisplayName.js","../node_modules/grommet/es6/components/Form/FormContext.js","../node_modules/grommet/es6/components/Form/Form.js","../node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js","../node_modules/grommet/es6/components/CheckBox/CheckBox.js","../node_modules/grommet/es6/utils/DOM.js","../node_modules/grommet/es6/components/FocusedContainer.js","../node_modules/grommet/es6/components/Drop/StyledDrop.js","../node_modules/grommet/es6/components/Drop/DropContainer.js","../node_modules/grommet/es6/components/Drop/Drop.js","../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js","../node_modules/grommet/es6/components/TextInput/StyledTextInput.js","../node_modules/grommet/es6/components/TextInput/TextInput.js","../node_modules/grommet/es6/components/FormField/FormField.js","../node_modules/grommet/es6/components/TextArea/StyledTextArea.js","../node_modules/grommet/es6/components/TextArea/TextArea.js"],"names":["AnnounceContext","React","createContext","message","mode","timeout","announcer","document","body","querySelector","createElement","style","left","right","position","insertBefore","firstChild","createAnnouncer","setAttribute","innerHTML","setTimeout","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_assertThisInitialized","self","ReferenceError","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","withFocus","_temp","focusWithMouse","WrappedComponent","FocusableComponent","_Component","subClass","superClass","props","_this","wrappedRef","state","window","addEventListener","handleActiveMouse","wrapperNode","current","setFocus","removeEventListener","clearTimeout","focusTimer","mouseTimer","mouseActive","focus","setState","createRef","create","constructor","__proto__","getDerivedStateFromProps","nextProps","prevState","withFocusRef","nextWrappedRef","render","_this2","_this$props","_onFocus","onFocus","_onBlur","onBlur","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_this$state","ref","event","resetFocus","Component","ForwardRef","forwardRef","displayName","getDisplayName","name","defaultProps","hoistNonReactStatics","withForwardRef","ForwardRefComponent","withAnnounce","Consumer","announce","exports","__esModule","default","_default","FormContext","undefined","updateReducer","data","error","validations","errors","touched","nextValue","nextTouched","nextErrors","nextError","defaultMessages","invalid","required","Form","_len","args","Array","_key","concat","onSubmit","preventDefault","forEach","validate","persist","adjustedEvent","onChange","onReset","messages","stateValue","stateErrors","priorValue","priorErrors","priorMessages","_this$props2","children","theme","_this$state2","Provider","addValidation","update","setPrototypeOf","FormWrapper","hoverStyle","css","normalizeColor","checkBox","hover","border","color","StyledCheckBoxIcon","styled","svg","withConfig","componentId","check","thickness","icon","size","extend","StyledCheckBoxContainer","label","disabled","StyledCheckBoxInput","input","toggle","StyledCheckBoxBox","div","focusStyle","StyledCheckBoxToggle","span","width","radius","background","StyledCheckBoxKnob","dark","knob","StyledCheckBox","stopLabelClick","type","stopPropagation","CheckBox","_ref","_ref2","checked","id","reverse","indeterminate","useEffect","console","warn","hidden","themeableProps","_theme$checkBox$icons","icons","CheckedIcon","IndeterminateIcon","borderColor","visual","as","Box","align","justify","height","round","viewBox","preserveAspectRatio","fill","d","side","checkBoxNode","margin","gap","removeUndefined","normalizedLabel","first","second","htmlFor","onClick","tabIndex","CheckBoxWrapper","compose","withTheme","filterByFocusable","elements","filter","element","currentTag","tagName","toLowerCase","isValidTag","match","childNodes","getAttribute","hasAttribute","findScrollParents","horizontal","result","parent","parentNode","getBoundingClientRect","rect","scrollWidth","push","scrollHeight","getBodyChildElements","excludeMatch","node","test","getNewContainer","container","appendChild","setFocusWithoutScroll","x","scrollX","y","scrollY","scrollTo","copyAttribute","deleteAttribute","attribute","removeAttribute","unsetTabIndex","saveTabIndex","restoreTabIndex","deleteTabIndex","deleteTabIndexCopy","makeNodeFocusable","getElementsByTagName","child","makeNodeUnfocusable","findVisibleParent","offsetParent","parentElement","isNotAncestorOf","contains","FocusedContainer","_ref$hidden","_ref$restrictScroll","restrictScroll","_useState","useState","bodyOverflowStyle","setBodyOverflowStyle","useRef","timer","overflow","trapFocus","removeTrap","dropKeyFrames","keyframes","StyledDrop","baseStyle","global","drop","zIndex","plain","backgroundStyle","vertical","bottom","getTransformOriginStyle","alignProp","preventLayerClose","keyCode","which","DropContainer","dropTarget","scrollParents","scrollParent","place","onClickOutside","dropTargetNode","dropNode","dropRef","removeScrollListener","addScrollListener","preserveHeight","responsive","stretch","windowWidth","innerWidth","windowHeight","innerHeight","top","maxHeight","targetRect","containerRect","Math","min","max","percentVisibleAreaBelow","parseMetricToNum","onEsc","nativeEvent","stopImmediatePropagation","_proto","componentDidMount","restrictFocus","onResize","onClickDocument","componentDidUpdate","componentWillUnmount","_this$props3","elevation","onKeyDown","propsTheme","context","content","shadowSize","onMouseDown","preventClickBubbling","backgroundIsDark","ThemeContext","Keyboard","Drop","activeElement","originalFocusedElement","removeChild","dropContainer","createPortal","DropWrapper","Ref","InfiniteScrollWrapper","_ref$items","items","onMore","renderMarker","replace","show","_ref$step","step","lastPage","useMemo","ceil","beginPage","setBeginPage","_useState2","floor","endPage","setEndPage","_useState3","pageHeight","setPageHeight","_useState4","pageArea","setPageArea","_useState5","multiColumn","setMultiColumn","_useState6","pendingLength","setPendingLength","belowMarkerRef","firstPageItemRef","lastPageItemRef","showRef","beginRect","findDOMNode","endRect","nextPageHeight","nextMultiColumn","nextPageArea","onScroll","documentElement","scrollTop","offset","nextBeginPage","nextEndPage","scrollIntoView","firstIndex","lastIndex","marker","flex","cloneElement","slice","item","index","itemsIndex","_marker","plainStyle","StyledTextInput","inputStyle","text","sizeStyle","placeholderStyle","disabledStyle","textInput","opacity","StyledTextInputContainer","StyledPlaceholder","padding","control","placeholder","StyledSuggestions","ol","suggestions","renderLabel","suggestion","stringLabel","ContainerBox","dropHeight","TextInput","activeSuggestionIndex","showDrop","suggestionsCount","suggestionsExist","suggestionIsOpen","enterSelect","labelMessage","resetTimer","selectedSuggestionIndex","announceSuggestionsCount","_this$props4","map","getSelectedSuggestionIndex","announceSuggestionsIsOpen","announceSuggestion","onShowSuggestions","_this$props5","onSelect","inputRef","_this$props6","_this$props7","announceSuggestionsExist","resetSuggestions","_this$props8","_this$state3","InfiniteScroll","select","isValidElement","Button","active","hoverIndicator","onClickSuggestion","pad","prevProps","_this$props9","onSuggestionsOpen","onSuggestionsClose","_this$props10","defaultValue","dropAlign","dropProps","renderSuggestions","onEnter","onSuggestionSelect","onTab","onUp","onPreviousSuggestion","onDown","onNextSuggestion","autoComplete","TextInputWrapper","_inheritsLoose","FormFieldBox","formField","FormFieldContent","component","valueProp","_onChange","className","Input","focusIndicator","abut","abutMargin","help","normalizedError","contents","regexp","validateField","renderChildren","outerStyle","normalizedChildren","Children","childContainerRef","borderSize","Fragment","Text","FormField","_Component2","_this3","FormFieldWrapper","StyledTextArea","textarea","resize","fillArg","textArea","TextAreaWrapper"],"mappings":"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","file":"static/js/4.595e02b4.chunk.js","sourcesContent":["import React from 'react';\n\nvar createAnnouncer = function createAnnouncer() {\n  var announcer = document.createElement('div');\n  announcer.style.left = '-100%';\n  announcer.style.right = '100%';\n  announcer.style.position = 'fixed';\n  announcer.style['z-index'] = '-1';\n  document.body.insertBefore(announcer, document.body.firstChild);\n  return announcer;\n};\n\nexport var AnnounceContext = React.createContext(function (message, mode, timeout) {\n  if (mode === void 0) {\n    mode = 'polite';\n  }\n\n  if (timeout === void 0) {\n    timeout = 500;\n  }\n\n  // we only create a new container if we don't have one already\n  // we create a separate node so that grommet does not set aria-hidden to it\n  var announcer = document.body.querySelector('[aria-live]') || createAnnouncer();\n  announcer.setAttribute('aria-live', 'off');\n  announcer.innerHTML = message;\n  announcer.setAttribute('aria-live', mode);\n  setTimeout(function () {\n    announcer.innerHTML = '';\n  }, timeout);\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable react/no-multi-comp */\nimport React, { Component } from 'react';\nimport getDisplayName from 'recompose/getDisplayName';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { withTheme } from 'styled-components';\nimport { AnnounceContext } from '../contexts';\nexport var withFocus = function withFocus(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      focusWithMouse = _ref.focusWithMouse;\n\n  return function (WrappedComponent) {\n    var FocusableComponent =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(FocusableComponent, _Component);\n\n      FocusableComponent.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n        var withFocusRef = nextProps.withFocusRef;\n        var wrappedRef = prevState.wrappedRef;\n        var nextWrappedRef = withFocusRef || wrappedRef;\n\n        if (nextWrappedRef !== wrappedRef) {\n          return {\n            wrappedRef: nextWrappedRef\n          };\n        }\n\n        return null;\n      };\n\n      // not in state because it doesn't affect rendering\n      function FocusableComponent(props) {\n        var _this;\n\n        _this = _Component.call(this, props) || this;\n\n        _defineProperty(_assertThisInitialized(_this), \"mouseActive\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n          var wrappedRef = _this.state.wrappedRef; // components such as anchors and buttons should not retain focus after\n          // being clicked while text-based components should\n\n          if (!focusWithMouse) {\n            window.addEventListener('mousedown', _this.handleActiveMouse);\n          } // we could be using onFocus in the wrapper node itself\n          // but react does not invoke it if you programically\n          // call wrapperNode.focus() inside componentWillUnmount\n          // see Drop \"this.originalFocusedElement.focus();\" for reference\n\n\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.addEventListener('focus', _this.setFocus);\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n          var wrappedRef = _this.state.wrappedRef;\n          window.removeEventListener('mousedown', _this.handleActiveMouse);\n          var wrapperNode = wrappedRef.current;\n\n          if (wrapperNode && wrapperNode.addEventListener) {\n            wrapperNode.removeEventListener('focus', _this.setFocus);\n          }\n\n          clearTimeout(_this.focusTimer);\n          clearTimeout(_this.mouseTimer);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"handleActiveMouse\", function () {\n          // from https://marcysutton.com/button-focus-hell/\n          _this.mouseActive = true; // this avoids showing focus when clicking around\n\n          clearTimeout(_this.mouseTimer); // empirical number to reset mouseActive after\n          // some time has passed without mousedown\n\n          _this.mouseTimer = setTimeout(function () {\n            _this.mouseActive = false;\n          }, 150);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"setFocus\", function () {\n          // delay setting focus to avoid interupting events,\n          // 1ms was chosen empirically based on ie11 using Select and TextInput\n          // with and without a FormField.\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (!focus && !_this.mouseActive) {\n              _this.setState({\n                focus: true\n              });\n            }\n          }, 1);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"resetFocus\", function () {\n          clearTimeout(_this.focusTimer);\n          _this.focusTimer = setTimeout(function () {\n            var focus = _this.state.focus;\n\n            if (focus) {\n              _this.setState({\n                focus: false\n              });\n            }\n          }, 1);\n        });\n\n        _this.state = {\n          focus: false,\n          wrappedRef: React.createRef()\n        };\n        return _this;\n      }\n\n      var _proto = FocusableComponent.prototype;\n\n      _proto.render = function render() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            _onFocus = _this$props.onFocus,\n            _onBlur = _this$props.onBlur,\n            withFocusRef = _this$props.withFocusRef,\n            rest = _objectWithoutPropertiesLoose(_this$props, [\"onFocus\", \"onBlur\", \"withFocusRef\"]);\n\n        var _this$state = this.state,\n            focus = _this$state.focus,\n            wrappedRef = _this$state.wrappedRef;\n        return React.createElement(WrappedComponent, _extends({\n          ref: wrappedRef,\n          focus: focus\n        }, rest, {\n          onFocus: function onFocus(event) {\n            _this2.setFocus();\n\n            if (_onFocus) {\n              _onFocus(event);\n            }\n          },\n          onBlur: function onBlur(event) {\n            _this2.resetFocus();\n\n            if (_onBlur) {\n              _onBlur(event);\n            }\n          }\n        }));\n      };\n\n      return FocusableComponent;\n    }(Component);\n\n    var ForwardRef = React.forwardRef(function (props, ref) {\n      return React.createElement(FocusableComponent, _extends({}, props, {\n        withFocusRef: ref\n      }));\n    });\n    ForwardRef.displayName = getDisplayName(WrappedComponent);\n    ForwardRef.name = ForwardRef.displayName;\n    ForwardRef.defaultProps = WrappedComponent.defaultProps;\n    hoistNonReactStatics(ForwardRef, WrappedComponent);\n    return ForwardRef;\n  };\n};\nexport var withForwardRef = function withForwardRef(WrappedComponent) {\n  var ForwardRefComponent = React.forwardRef(function (props, ref) {\n    return React.createElement(WrappedComponent, _extends({\n      forwardRef: ref\n    }, props));\n  });\n  ForwardRefComponent.displayName = getDisplayName(WrappedComponent);\n  ForwardRefComponent.name = ForwardRefComponent.displayName;\n  ForwardRefComponent.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRefComponent, WrappedComponent);\n  return ForwardRefComponent;\n};\nexport var withAnnounce = function withAnnounce(WrappedComponent) {\n  var ForwardRef = React.forwardRef(function (props, ref) {\n    return React.createElement(AnnounceContext.Consumer, null, function (announce) {\n      return React.createElement(WrappedComponent, _extends({}, props, {\n        announce: announce,\n        ref: ref\n      }));\n    });\n  });\n  ForwardRef.displayName = getDisplayName(WrappedComponent);\n  ForwardRef.name = ForwardRef.displayName;\n  ForwardRef.defaultProps = WrappedComponent.defaultProps;\n  hoistNonReactStatics(ForwardRef, WrappedComponent);\n  return ForwardRef;\n};\nexport { withTheme };","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar getDisplayName = function getDisplayName(Component) {\n  if (typeof Component === 'string') {\n    return Component;\n  }\n\n  if (!Component) {\n    return undefined;\n  }\n\n  return Component.displayName || Component.name || 'Component';\n};\n\nvar _default = getDisplayName;\nexports.default = _default;","import React from 'react';\nexport var FormContext = React.createContext(undefined);","function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Component } from 'react';\nimport { defaultProps } from '../../default-props';\nimport { FormContext } from './FormContext';\n\nvar updateReducer = function updateReducer(name, data, error, validations) {\n  return function (state) {\n    var errors = state.errors,\n        touched = state.touched,\n        value = state.value;\n\n    var nextValue = _extends({}, value);\n\n    nextValue[name] = data;\n\n    var nextTouched = _extends({}, touched);\n\n    nextTouched[name] = true;\n\n    var nextErrors = _extends({}, errors);\n\n    if (errors[name]) {\n      var nextError = error || validations[name] && validations[name](data, nextValue);\n\n      if (nextError) {\n        nextErrors[name] = nextError;\n      } else {\n        delete nextErrors[name];\n      }\n    }\n\n    return {\n      value: nextValue,\n      errors: nextErrors,\n      touched: nextTouched\n    };\n  };\n};\n\nvar defaultMessages = {\n  invalid: 'invalid',\n  required: 'required'\n};\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      errors: {},\n      value: {},\n      touched: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validations\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (event) {\n      var onSubmit = _this.props.onSubmit;\n      var _this$state = _this.state,\n          errors = _this$state.errors,\n          value = _this$state.value; // Don't submit the form via browser form action. We don't want it\n      // if the validation fails. And, we assume a javascript action handler\n      // otherwise.\n\n      event.preventDefault();\n\n      var nextErrors = _extends({}, errors);\n\n      Object.keys(_this.validations).forEach(function (name) {\n        var validate = _this.validations[name];\n        var error = validate && validate(value[name], value);\n\n        if (error) {\n          nextErrors[name] = error;\n        } else {\n          delete nextErrors[name];\n        }\n      });\n\n      if (Object.keys(nextErrors).length === 0 && onSubmit) {\n        event.persist(); // extract from React's synthetic event pool\n\n        var adjustedEvent = event;\n        adjustedEvent.value = value;\n        onSubmit(adjustedEvent);\n      } else {\n        _this.setState({\n          errors: nextErrors\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReset\", function (event) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          onReset = _this$props.onReset;\n      var value = {};\n\n      _this.setState({\n        errors: {},\n        value: value,\n        touched: {}\n      }, function () {\n        if (onReset) {\n          event.persist(); // extract from React's synthetic event pool\n\n          var adjustedEvent = event;\n          adjustedEvent.value = value;\n          onReset(adjustedEvent);\n        }\n\n        if (onChange) {\n          onChange(value);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (name, data, error) {\n      _this.setState(updateReducer(name, data, error, _this.validations), function () {\n        var onChange = _this.props.onChange;\n        var value = _this.state.value;\n\n        if (onChange) {\n          onChange(value);\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addValidation\", function (name, validate) {\n      _this.validations[name] = validate;\n    });\n\n    return _this;\n  }\n\n  Form.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var value = nextProps.value,\n        errors = nextProps.errors,\n        messages = nextProps.messages;\n    var stateValue = prevState.value,\n        stateErrors = prevState.errors,\n        priorValue = prevState.priorValue,\n        priorErrors = prevState.priorErrors,\n        priorMessages = prevState.priorMessages;\n\n    if (!priorValue || value !== priorValue || errors !== priorErrors || messages !== priorMessages) {\n      return {\n        value: value !== priorValue ? value : stateValue,\n        priorValue: value,\n        errors: (errors !== priorErrors ? errors : stateErrors) || {},\n        priorErrors: errors,\n        messages: _extends({}, defaultMessages, {}, messages),\n        priorMessages: messages\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Form.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"children\"]);\n\n    delete rest.messages;\n    delete rest.theme;\n    delete rest.value;\n    var _this$state2 = this.state,\n        errors = _this$state2.errors,\n        touched = _this$state2.touched,\n        value = _this$state2.value,\n        messages = _this$state2.messages;\n    return React.createElement(\"form\", _extends({}, rest, {\n      onReset: this.onReset,\n      onSubmit: this.onSubmit\n    }), React.createElement(FormContext.Provider, {\n      value: {\n        addValidation: this.addValidation,\n        errors: errors,\n        messages: messages,\n        touched: touched,\n        update: this.update,\n        value: value\n      }\n    }, children));\n  };\n\n  return Form;\n}(Component);\n\n_defineProperty(Form, \"defaultProps\", {\n  messages: defaultMessages,\n  value: {}\n});\n\nObject.setPrototypeOf(Form.defaultProps, defaultProps);\nvar FormDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  FormDoc = require('./doc').doc(Form); // eslint-disable-line global-require\n}\n\nvar FormWrapper = FormDoc || Form;\nFormWrapper.displayName = 'Form';\nexport { FormWrapper as Form };","import styled, { css } from 'styled-components';\nimport { focusStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar disabledStyle = \"\\n  opacity: 0.5;\\n  cursor: default;\\n\";\nvar hoverStyle = css([\":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:\", \";}\"], function (props) {\n  return normalizeColor(props.theme.checkBox.hover.border.color, props.theme);\n});\nvar StyledCheckBoxIcon = styled.svg.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxIcon\",\n  componentId: \"sc-1dbk5ju-0\"\n})([\"box-sizing:border-box;stroke-width:\", \";stroke:\", \";width:\", \";height:\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.check.thickness;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.color || 'control', props.theme);\n}, function (props) {\n  return props.theme.checkBox.icon.size || props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.icon.size || props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.icon.extend;\n});\nStyledCheckBoxIcon.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxIcon.defaultProps, defaultProps);\nvar StyledCheckBoxContainer = styled.label.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxContainer\",\n  componentId: \"sc-1dbk5ju-1\"\n})([\"display:flex;flex-direction:row;align-items:center;user-select:none;\", \" \", \" \", \" \", \"\"], function (props) {\n  return props.disabled && disabledStyle;\n}, function (props) {\n  return !props.disabled && 'cursor: pointer;';\n}, function (props) {\n  return props.theme.checkBox.hover.border.color && hoverStyle;\n}, function (props) {\n  return props.theme.checkBox.extend;\n});\nStyledCheckBoxContainer.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxContainer.defaultProps, defaultProps);\nvar StyledCheckBoxInput = styled.input.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxInput\",\n  componentId: \"sc-1dbk5ju-2\"\n})([\"opacity:0;-moz-appearance:none;width:0;height:0;margin:0;\", \":checked + span > span{left:calc( \", \" - \", \" );background:\", \";}\"], function (props) {\n  return !props.disabled && 'cursor: pointer;';\n}, function (props) {\n  return props.theme.checkBox.toggle.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.color || 'control', props.theme);\n});\nStyledCheckBoxInput.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxInput.defaultProps, defaultProps);\nvar StyledCheckBoxBox = styled.div.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxBox\",\n  componentId: \"sc-1dbk5ju-3\"\n})([\"\", \";\", \";\"], function (props) {\n  return props.focus && focusStyle;\n}, function (props) {\n  return props.theme.checkBox.check.extend;\n});\nStyledCheckBoxBox.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxBox.defaultProps, defaultProps);\nvar StyledCheckBoxToggle = styled.span.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxToggle\",\n  componentId: \"sc-1dbk5ju-4\"\n})([\"box-sizing:border-box;vertical-align:middle;display:inline-block;width:\", \";height:\", \";border:\", \" solid;border-color:\", \";border-radius:\", \";background-color:\", \";\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.toggle.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.border.color, props.theme);\n}, function (props) {\n  return props.theme.checkBox.toggle.radius;\n}, function (props) {\n  return props.theme.checkBox.toggle.background ? normalizeColor(props.theme.checkBox.toggle.background, props.theme) : 'transparent';\n}, function (props) {\n  return props.focus && focusStyle;\n}, function (props) {\n  return props.theme.checkBox.toggle.extend;\n});\nStyledCheckBoxToggle.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxToggle.defaultProps, defaultProps);\nvar StyledCheckBoxKnob = styled.span.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxKnob\",\n  componentId: \"sc-1dbk5ju-5\"\n})([\"box-sizing:border-box;position:relative;display:inherit;top:-\", \";left:-\", \";transition:all 0.3s;width:\", \";height:\", \";background:\", \";border-radius:\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.toggle.color[props.theme.dark ? 'dark' : 'light'], props.theme);\n}, function (props) {\n  return props.theme.checkBox.toggle.radius;\n}, function (props) {\n  return props.theme.checkBox.toggle.knob.extend;\n});\nStyledCheckBoxKnob.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxKnob.defaultProps, defaultProps);\nvar StyledCheckBox = styled.div.withConfig({\n  displayName: \"StyledCheckBox\",\n  componentId: \"sc-1dbk5ju-6\"\n})([\"flex-shrink:0;\"]);\nStyledCheckBox.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBox.defaultProps, defaultProps);\nexport { StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxBox, StyledCheckBoxToggle, StyledCheckBoxKnob, StyledCheckBox };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect } from 'react';\nimport { compose } from 'recompose';\nimport { withTheme } from 'styled-components';\nimport { removeUndefined } from '../../utils/object';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { withFocus, withForwardRef } from '../hocs';\nimport { StyledCheckBox, StyledCheckBoxBox, StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxToggle, StyledCheckBoxKnob } from './StyledCheckBox';\nimport { normalizeColor } from '../../utils';\n\nvar stopLabelClick = function stopLabelClick(event) {\n  // prevents clicking on the label trigging the event twice\n  // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element\n  if (event.target.type !== 'checkbox') {\n    event.stopPropagation();\n  }\n};\n\nvar CheckBox = function CheckBox(_ref) {\n  var _ref2;\n\n  var checked = _ref.checked,\n      disabled = _ref.disabled,\n      focus = _ref.focus,\n      forwardRef = _ref.forwardRef,\n      id = _ref.id,\n      label = _ref.label,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      reverse = _ref.reverse,\n      theme = _ref.theme,\n      toggle = _ref.toggle,\n      indeterminate = _ref.indeterminate,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"checked\", \"disabled\", \"focus\", \"forwardRef\", \"id\", \"label\", \"name\", \"onChange\", \"reverse\", \"theme\", \"toggle\", \"indeterminate\"]);\n\n  useEffect(function () {\n    if (checked && indeterminate) {\n      console.warn('Checkbox cannot be \"checked\" and \"indeterminate\" at the same time.');\n    }\n\n    if (toggle && indeterminate) {\n      console.warn('Checkbox of type toggle does not have \"indeterminate\" state.');\n    }\n  }, [checked, toggle, indeterminate]);\n  var themeableProps = {\n    checked: checked,\n    disabled: disabled,\n    focus: focus,\n    reverse: reverse,\n    toggle: toggle,\n    indeterminate: indeterminate\n  };\n  var hidden;\n\n  if (disabled && checked) {\n    hidden = React.createElement(\"input\", {\n      name: name,\n      type: \"hidden\",\n      value: \"true\"\n    });\n  }\n\n  var _theme$checkBox$icons = theme.checkBox.icons,\n      CheckedIcon = _theme$checkBox$icons.checked,\n      IndeterminateIcon = _theme$checkBox$icons.indeterminate;\n  var borderColor = normalizeColor(theme.checkBox.border.color, theme);\n\n  if (checked) {\n    borderColor = normalizeColor(theme.checkBox.color || 'control', theme);\n  }\n\n  var visual = toggle ? React.createElement(StyledCheckBoxToggle, themeableProps, React.createElement(StyledCheckBoxKnob, themeableProps)) : React.createElement(StyledCheckBoxBox, _extends({\n    as: Box,\n    align: \"center\",\n    justify: \"center\",\n    width: theme.checkBox.size,\n    height: theme.checkBox.size,\n    border: {\n      size: theme.checkBox.border.width,\n      color: borderColor\n    },\n    round: theme.checkBox.check.radius\n  }, themeableProps), !indeterminate && checked && (CheckedIcon ? React.createElement(CheckedIcon, {\n    theme: theme,\n    as: StyledCheckBoxIcon\n  }) : React.createElement(StyledCheckBoxIcon, _extends({\n    theme: theme,\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, themeableProps), React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M6,11.3 L10.3,16 L18,6.2\"\n  }))), !checked && indeterminate && (IndeterminateIcon ? React.createElement(IndeterminateIcon, {\n    theme: theme,\n    as: StyledCheckBoxIcon\n  }) : React.createElement(StyledCheckBoxIcon, _extends({\n    theme: theme,\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, themeableProps), React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M6,12 L18,12\"\n  }))));\n  var side = reverse ? 'left' : 'right';\n  var checkBoxNode = React.createElement(StyledCheckBox, _extends({\n    as: Box,\n    align: \"center\",\n    justify: \"center\",\n    margin: label && (_ref2 = {}, _ref2[side] = theme.checkBox.gap || 'small', _ref2)\n  }, themeableProps), React.createElement(StyledCheckBoxInput, _extends({}, rest, {\n    ref: forwardRef,\n    type: \"checkbox\"\n  }, removeUndefined({\n    id: id,\n    name: name,\n    checked: checked,\n    disabled: disabled,\n    onChange: onChange\n  }), themeableProps)), visual, hidden);\n  var normalizedLabel = typeof label === 'string' ? React.createElement(\"span\", null, label) : label;\n  var first = reverse ? normalizedLabel : checkBoxNode;\n  var second = reverse ? checkBoxNode : normalizedLabel;\n  return React.createElement(StyledCheckBoxContainer, _extends({\n    reverse: reverse\n  }, removeUndefined({\n    htmlFor: id,\n    disabled: disabled\n  }), {\n    checked: checked,\n    onClick: stopLabelClick\n  }, themeableProps), first, second);\n};\n\nCheckBox.defaultProps = {};\nObject.setPrototypeOf(CheckBox.defaultProps, defaultProps);\nvar CheckBoxDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CheckBoxDoc = require('./doc').doc(CheckBox);\n}\n\nvar CheckBoxWrapper = compose(withFocus(), withTheme, withForwardRef)(CheckBoxDoc || CheckBox);\nexport { CheckBoxWrapper as CheckBox };","export var filterByFocusable = function filterByFocusable(elements) {\n  return Array.prototype.filter.call(elements || [], function (element) {\n    var currentTag = element.tagName.toLowerCase();\n    var validTags = /(svg|a|area|input|select|textarea|button|iframe|div)$/;\n    var isValidTag = currentTag.match(validTags) && element.focus;\n\n    if (currentTag === 'a') {\n      return isValidTag && element.childNodes.length > 0 && element.getAttribute('href');\n    }\n\n    if (currentTag === 'svg' || currentTag === 'div') {\n      return isValidTag && element.hasAttribute('tabindex') && element.getAttribute('tabindex') !== '-1';\n    }\n\n    return isValidTag;\n  });\n};\nexport var findScrollParents = function findScrollParents(element, horizontal) {\n  var result = [];\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result.push(parent);\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result.push(parent);\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (result.length === 0) {\n      result.push(document);\n    } else if (result[0].tagName.toLowerCase() === 'body') {\n      result.length = 0;\n      result.push(document);\n    }\n  }\n\n  return result;\n};\nexport var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {\n  var children = element.getElementsByTagName('*');\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var tagName = child.tagName.toLowerCase();\n\n    if (tagName === 'input' || tagName === 'select') {\n      return child;\n    }\n  }\n\n  return undefined;\n};\nexport var getBodyChildElements = function getBodyChildElements() {\n  var excludeMatch = /^(script|link)$/i;\n  var children = [];\n  [].forEach.call(document.body.children, function (node) {\n    if (!excludeMatch.test(node.tagName)) {\n      children.push(node);\n    }\n  });\n  return children;\n};\nexport var getNewContainer = function getNewContainer() {\n  // setup DOM\n  var container = document.createElement('div');\n  document.body.appendChild(container);\n  return container;\n};\nexport var setFocusWithoutScroll = function setFocusWithoutScroll(element) {\n  var x = window.scrollX;\n  var y = window.scrollY;\n  element.focus();\n  window.scrollTo(x, y);\n};\nexport var setTabIndex = function setTabIndex(tabIndex) {\n  return function (element) {\n    element.setAttribute('tabindex', tabIndex);\n  };\n};\nexport var copyAttribute = function copyAttribute(source) {\n  return function (target) {\n    return function (element) {\n      element.setAttribute(target, element.getAttribute(source));\n    };\n  };\n};\n\nvar deleteAttribute = function deleteAttribute(attribute) {\n  return function (element) {\n    return element.removeAttribute(attribute);\n  };\n};\n\nvar unsetTabIndex = setTabIndex(-1);\nvar saveTabIndex = copyAttribute('tabindex')('data-g-tabindex');\nvar restoreTabIndex = copyAttribute('data-g-tabindex')('tabindex');\nvar deleteTabIndex = deleteAttribute('tabindex');\nvar deleteTabIndexCopy = deleteAttribute('data-g-tabindex');\nexport var makeNodeFocusable = function makeNodeFocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', false); // allow children to receive focus again\n\n    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {\n      if (child.hasAttribute('data-g-tabindex')) {\n        restoreTabIndex(child);\n      } else {\n        deleteTabIndex(child);\n      }\n\n      deleteTabIndexCopy(child);\n    });\n  }\n};\nexport var makeNodeUnfocusable = function makeNodeUnfocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', true); // prevent children to receive focus\n\n    filterByFocusable(node.getElementsByTagName('*')).forEach(function (child) {\n      if (child.hasAttribute('tabindex')) {\n        saveTabIndex(child);\n      }\n\n      unsetTabIndex(child);\n    });\n  }\n};\nexport var findVisibleParent = function findVisibleParent(element) {\n  if (element) {\n    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;\n  }\n\n  return undefined;\n};\nexport var isNodeAfterScroll = function isNodeAfterScroll(node, target) {\n  if (target === void 0) {\n    target = window;\n  }\n\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      bottom = _node$getBoundingClie.bottom;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      height = _target$getBoundingCl.height,\n      top = _target$getBoundingCl.top;\n\n  return bottom >= top + height;\n};\nexport var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {\n  if (target === void 0) {\n    target = window;\n  }\n\n  var _node$getBoundingClie2 = node.getBoundingClientRect(),\n      top = _node$getBoundingClie2.top;\n\n  var _target$getBoundingCl2 = target.getBoundingClientRect(),\n      targetTop = _target$getBoundingCl2.top;\n\n  return top <= targetTop;\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getBodyChildElements, makeNodeFocusable, makeNodeUnfocusable } from '../utils';\n\nvar isNotAncestorOf = function isNotAncestorOf(child) {\n  return function (parent) {\n    return !parent.contains(child);\n  };\n};\n\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n      hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n      _ref$restrictScroll = _ref.restrictScroll,\n      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n      children = _ref.children,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hidden\", \"restrictScroll\", \"children\"]);\n\n  var _useState = useState(''),\n      bodyOverflowStyle = _useState[0],\n      setBodyOverflowStyle = _useState[1];\n\n  var ref = useRef(null);\n  useEffect(function () {\n    var removeTrap = function removeTrap() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeFocusable);\n\n      if (restrictScroll) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n\n    var trapFocus = function trapFocus() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeUnfocusable);\n\n      if (restrictScroll) {\n        setBodyOverflowStyle(document.body.style.overflow);\n        document.body.style.overflow = 'hidden';\n      }\n    };\n\n    var timer = setTimeout(function () {\n      if (!hidden) {\n        trapFocus();\n      }\n    }, 0);\n    return function () {\n      removeTrap();\n      clearTimeout(timer);\n    };\n  }, [hidden, bodyOverflowStyle, restrictScroll]);\n  return React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n};","import styled, { keyframes } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { backgroundStyle } from '../../utils/background';\nimport { defaultProps } from '../../default-props';\n\nfunction getTransformOriginStyle(align) {\n  var vertical = 'top';\n\n  if (align.bottom) {\n    vertical = 'bottom';\n  }\n\n  var horizontal = 'left';\n\n  if (align.right) {\n    horizontal = 'right';\n  }\n\n  return vertical + \" \" + horizontal;\n}\n\nvar dropKeyFrames = keyframes([\"0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}\"]);\nvar StyledDrop = styled.div.withConfig({\n  displayName: \"StyledDrop\",\n  componentId: \"sc-16s5rx8-0\"\n})([\"\", \" border-radius:\", \";position:fixed;z-index:\", \";outline:none;\", \" opacity:0;transform-origin:\", \";animation:\", \" 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}\", \"\"], baseStyle, function (props) {\n  return props.theme.global.drop.border.radius;\n}, function (props) {\n  return props.theme.global.drop.zIndex;\n}, function (props) {\n  return !props.plain && backgroundStyle(props.theme.global.drop.background, props.theme);\n}, function (props) {\n  return getTransformOriginStyle(props.alignProp);\n}, dropKeyFrames, function (props) {\n  return props.theme.global.drop && props.theme.global.drop.extend;\n});\nStyledDrop.defaultProps = {};\nObject.setPrototypeOf(StyledDrop.defaultProps, defaultProps);\nexport { StyledDrop };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, findVisibleParent, parseMetricToNum } from '../../utils';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar DropContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(DropContainer, _Component);\n\n  function DropContainer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"dropRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"addScrollListener\", function () {\n      var dropTarget = _this.props.dropTarget;\n      _this.scrollParents = findScrollParents(dropTarget);\n\n      _this.scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', _this.place);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeScrollListener\", function () {\n      _this.scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', _this.place);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickDocument\", function (event) {\n      var _this$props = _this.props,\n          dropTarget = _this$props.dropTarget,\n          onClickOutside = _this$props.onClickOutside;\n      var dropTargetNode = dropTarget;\n      var dropNode = _this.dropRef.current;\n\n      if (onClickOutside && dropNode && // need this for ie11\n      !dropTargetNode.contains(event.target) && !dropNode.contains(event.target)) {\n        onClickOutside();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      _this.removeScrollListener();\n\n      _this.addScrollListener();\n\n      _this.place(false);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"place\", function (preserveHeight) {\n      var _this$props2 = _this.props,\n          align = _this$props2.align,\n          dropTarget = _this$props2.dropTarget,\n          responsive = _this$props2.responsive,\n          stretch = _this$props2.stretch,\n          theme = _this$props2.theme;\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = _this.dropRef.current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = findVisibleParent(target).getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width = Math.min(stretch ? Math.max(targetRect.width, containerRect.width) : containerRect.width, windowWidth); // set left position\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or visible\n          // area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var onEsc = _this.props.onEsc;\n      event.stopPropagation();\n\n      if (onEsc) {\n        onEsc(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"preventClickBubbling\", function (event) {\n      event.stopPropagation();\n      /**\n       * the React event system actually listens to all events at the top level\n       * and then handles its own bubbling / capturing virtually. This means that\n       * even if we call stopPropagation, it only affects the React synthetic\n       * event, and the native event still bubbles upward.\n       * Any code that uses native events (like the close listener in this class)\n       * will still get the bubbled event, unless we also call\n       * event.nativeEvent.stopImmediatePropagation, which bridges the gap from\n       * React synthetic event to native DOM event.\n       */\n\n      event.nativeEvent.stopImmediatePropagation();\n    });\n\n    return _this;\n  }\n\n  var _proto = DropContainer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var restrictFocus = this.props.restrictFocus;\n    this.addScrollListener();\n    window.addEventListener('resize', this.onResize);\n    document.addEventListener('mousedown', this.onClickDocument);\n    this.place(false);\n\n    if (restrictFocus) {\n      this.dropRef.current.focus();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.place(true);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.removeScrollListener();\n    window.removeEventListener('resize', this.onResize);\n    document.removeEventListener('mousedown', this.onClickDocument);\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        alignProp = _this$props3.align,\n        children = _this$props3.children,\n        elevation = _this$props3.elevation,\n        onClickOutside = _this$props3.onClickOutside,\n        onEsc = _this$props3.onEsc,\n        onKeyDown = _this$props3.onKeyDown,\n        plain = _this$props3.plain,\n        propsTheme = _this$props3.theme,\n        rest = _objectWithoutPropertiesLoose(_this$props3, [\"align\", \"children\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"plain\", \"theme\"]);\n\n    var theme = this.context || propsTheme;\n    var content = React.createElement(StyledDrop, _extends({\n      as: Box,\n      plain: plain,\n      elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,\n      tabIndex: \"-1\",\n      ref: this.dropRef,\n      alignProp: alignProp,\n      onMouseDown: this.preventClickBubbling\n    }, rest), children);\n\n    if (theme.global.drop.background) {\n      var dark = backgroundIsDark(theme.global.drop.background, theme);\n\n      if (dark !== undefined && dark !== theme.dark) {\n        content = React.createElement(ThemeContext.Provider, {\n          value: _extends({}, theme, {\n            dark: dark\n          })\n        }, content);\n      }\n    }\n\n    return React.createElement(FocusedContainer, {\n      onKeyDown: onEsc && preventLayerClose\n    }, React.createElement(Keyboard, {\n      onEsc: onEsc && this.onEsc,\n      onKeyDown: onKeyDown,\n      target: \"document\"\n    }, content));\n  };\n\n  return DropContainer;\n}(Component);\n\n_defineProperty(DropContainer, \"contextType\", ThemeContext);\n\n_defineProperty(DropContainer, \"defaultProps\", {\n  align: {\n    top: 'top',\n    left: 'left'\n  },\n  overflow: 'auto',\n  stretch: 'width'\n});\n\nObject.setPrototypeOf(DropContainer.defaultProps, defaultProps);\nexport { DropContainer };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { getNewContainer, setFocusWithoutScroll } from '../../utils';\nimport { DropContainer } from './DropContainer';\n\nvar Drop =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Drop, _Component);\n\n  function Drop() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"originalFocusedElement\", document.activeElement);\n\n    _defineProperty(_assertThisInitialized(_this), \"dropContainer\", getNewContainer());\n\n    return _this;\n  }\n\n  var _proto = Drop.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var restrictFocus = this.props.restrictFocus;\n\n    if (restrictFocus && this.originalFocusedElement) {\n      if (this.originalFocusedElement.focus) {\n        setFocusWithoutScroll(this.originalFocusedElement);\n      } else if (this.originalFocusedElement.parentNode && this.originalFocusedElement.parentNode.focus) {\n        // required for IE11 and Edge\n        setFocusWithoutScroll(this.originalFocusedElement.parentNode);\n      }\n    }\n\n    document.body.removeChild(this.dropContainer);\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        dropTarget = _this$props.target,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"target\"]);\n\n    return createPortal(React.createElement(DropContainer, _extends({\n      dropTarget: dropTarget\n    }, rest)), this.dropContainer);\n  };\n\n  return Drop;\n}(Component);\n\n_defineProperty(Drop, \"defaultProps\", {\n  align: {\n    top: 'top',\n    left: 'left'\n  },\n  plain: false\n});\n\nvar DropDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  DropDoc = require('./doc').doc(Drop); // eslint-disable-line global-require\n}\n\nvar DropWrapper = DropDoc || Drop;\nexport { DropWrapper as Drop };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/* eslint-disable react/no-find-dom-node */\nimport React, { Component, useEffect, useMemo, useRef, useState } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { findScrollParents } from '../../utils';\nimport { Box } from '../Box'; // Wraps an item to ensure we can get a ref to it\n\nvar Ref =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Ref, _Component);\n\n  function Ref() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Ref.prototype;\n\n  _proto.render = function render() {\n    var children = this.props.children;\n    return children;\n  };\n\n  return Ref;\n}(Component);\n\nvar InfiniteScroll = function InfiniteScroll(_ref) {\n  var children = _ref.children,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      onMore = _ref.onMore,\n      renderMarker = _ref.renderMarker,\n      replace = _ref.replace,\n      show = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step;\n  // the last page we have items for\n  var lastPage = useMemo(function () {\n    return Math.ceil(items.length / step);\n  }, [items.length, step]); // the first page we are displaying\n\n  var _useState = useState(0),\n      beginPage = _useState[0],\n      setBeginPage = _useState[1]; // the last page we are displaying\n\n\n  var _useState2 = useState(show ? Math.floor((show + step) / step) - 1 : 0),\n      endPage = _useState2[0],\n      setEndPage = _useState2[1]; // how tall we've measured a page to be\n\n\n  var _useState3 = useState(),\n      pageHeight = _useState3[0],\n      setPageHeight = _useState3[1]; // how much area a page requires\n\n\n  var _useState4 = useState(),\n      pageArea = _useState4[0],\n      setPageArea = _useState4[1]; // whether the items are laid out in a grid instead of linearly\n\n\n  var _useState5 = useState(),\n      multiColumn = _useState5[0],\n      setMultiColumn = _useState5[1]; // what we're waiting for onMore to give us\n\n\n  var _useState6 = useState(0),\n      pendingLength = _useState6[0],\n      setPendingLength = _useState6[1];\n\n  var belowMarkerRef = useRef();\n  var firstPageItemRef = useRef();\n  var lastPageItemRef = useRef();\n  var showRef = useRef(); // calculating space based on where the first and last items being displayed\n  // are located\n\n  useEffect(function () {\n    if (firstPageItemRef.current && lastPageItemRef.current && !pageHeight) {\n      /* eslint-disable react/no-find-dom-node */\n      var beginRect = findDOMNode(firstPageItemRef.current).getBoundingClientRect();\n      var endRect = findDOMNode(lastPageItemRef.current).getBoundingClientRect();\n      var nextPageHeight = endRect.top + endRect.height - beginRect.top; // Check if the items are arranged in a single column or not.\n\n      var nextMultiColumn = nextPageHeight / step < endRect.height;\n      var nextPageArea = endRect.height * endRect.width * step;\n      setPageHeight(nextPageHeight);\n      setPageArea(nextPageArea);\n      setMultiColumn(nextMultiColumn);\n    }\n  }, [pageHeight, step]); // scroll handling\n\n  useEffect(function () {\n    var scrollParents;\n\n    var onScroll = function onScroll() {\n      var scrollParent = scrollParents[0]; // Determine the window into the first scroll parent\n\n      var top;\n      var height;\n      var width;\n\n      if (scrollParent === document) {\n        top = document.documentElement.scrollTop || document.body.scrollTop;\n        height = window.innerHeight;\n        width = window.innerWidth;\n      } else {\n        top = scrollParent.scrollTop;\n        var rect = scrollParent.getBoundingClientRect();\n        height = rect.height;\n        width = rect.width;\n      } // Figure out which pages we should make visible based on the scroll\n      // window.\n\n\n      var offset = height / 4;\n      var nextBeginPage = replace ? Math.min(lastPage, Math.max(0, multiColumn ? Math.floor(Math.max(0, top - offset) * width / pageArea) : Math.floor(Math.max(0, top - offset) / pageHeight))) : 0;\n      var nextEndPage = Math.min(lastPage, Math.max(!replace && endPage || 0, multiColumn ? Math.ceil((top + height + offset) * width / pageArea) : Math.floor((top + height + offset) / pageHeight)));\n      if (nextBeginPage !== beginPage) setBeginPage(nextBeginPage);\n      if (nextEndPage !== endPage) setEndPage(nextEndPage);\n    };\n\n    if (pageHeight && belowMarkerRef.current) {\n      scrollParents = findScrollParents(belowMarkerRef.current);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', onScroll);\n      });\n      onScroll();\n    }\n\n    return function () {\n      if (scrollParents) {\n        scrollParents.forEach(function (scrollParent) {\n          return scrollParent.removeEventListener('scroll', onScroll);\n        });\n      }\n    };\n  }, [beginPage, endPage, lastPage, multiColumn, pageArea, pageHeight, replace]); // check if we need to ask for more\n\n  useEffect(function () {\n    if (onMore && endPage === lastPage && items.length >= pendingLength) {\n      // remember we've asked for more, so we don't keep asking if it takes\n      // a while\n      setPendingLength(items.length + 1);\n      onMore();\n    }\n  }, [endPage, items.length, lastPage, onMore, pendingLength, step]); // scroll to any 'show'\n\n  useEffect(function () {\n    // ride out any animation delays, 100ms empirically measured\n    var timer = setTimeout(function () {\n      if (show && showRef.current) {\n        findDOMNode(showRef.current).scrollIntoView();\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [show]);\n  var firstIndex = beginPage * step;\n  var lastIndex = Math.min((endPage + 1) * step, items.length) - 1;\n  var result = [];\n\n  if (replace && pageHeight && firstIndex) {\n    var marker = React.createElement(Box, {\n      key: \"above\",\n      flex: false,\n      height: beginPage * pageHeight + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      marker = React.cloneElement(renderMarker(marker), {\n        key: 'above'\n      });\n    }\n\n    result.push(marker);\n  }\n\n  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {\n    var itemsIndex = firstIndex + index;\n    var child = children(item, itemsIndex); // we only need the Refs if we don't know the pageHeight\n\n    if (!pageHeight && itemsIndex === 0) {\n      child = React.createElement(Ref, {\n        key: \"first\",\n        ref: firstPageItemRef\n      }, child);\n    } else if (!pageHeight && (itemsIndex === step - 1 || itemsIndex === lastIndex)) {\n      child = React.createElement(Ref, {\n        key: \"last\",\n        ref: lastPageItemRef\n      }, child);\n    }\n\n    if (show && show === itemsIndex) {\n      child = React.createElement(Ref, {\n        key: \"show\",\n        ref: showRef\n      }, child);\n    }\n\n    result.push(child);\n  });\n\n  if (endPage < lastPage || replace || onMore) {\n    var _marker = React.createElement(Box, {\n      key: \"below\",\n      ref: belowMarkerRef,\n      flex: false,\n      height: (replace ? (lastPage - endPage) * pageHeight : 0) + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      _marker = React.cloneElement(renderMarker(_marker), {\n        key: 'below'\n      });\n    }\n\n    result.push(_marker);\n  }\n\n  return result;\n};\n\nvar InfiniteScrollDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  InfiniteScrollDoc = require('./doc').doc(InfiniteScroll);\n}\n\nvar InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;\nexport { InfiniteScrollWrapper as InfiniteScroll };","import styled, { css } from 'styled-components';\nimport { disabledStyle, focusStyle, inputStyle, parseMetricToNum, placeholderStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar sizeStyle = function sizeStyle(props) {\n  var data = props.theme.text[props.size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar plainStyle = css([\"border:none;\"]);\nvar StyledTextInput = styled.input.withConfig({\n  displayName: \"StyledTextInput\",\n  componentId: \"sc-1x30a0s-0\"\n})([\"\", \" width:100%;\", \" \", \" \", \" &::-moz-focus-inner{border:none;outline:none;}\", \";\", \" \", \";\"], inputStyle, function (props) {\n  return props.size && sizeStyle(props);\n}, function (props) {\n  return props.plain && plainStyle;\n}, placeholderStyle, function (props) {\n  return props.focus && !props.plain && focusStyle;\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.extend;\n});\nStyledTextInput.defaultProps = {};\nObject.setPrototypeOf(StyledTextInput.defaultProps, defaultProps);\nvar StyledTextInputContainer = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledTextInputContainer\",\n  componentId: \"sc-1x30a0s-1\"\n})([\"position:relative;width:100%;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;\n});\nStyledTextInputContainer.defaultProps = {};\nObject.setPrototypeOf(StyledTextInputContainer.defaultProps, defaultProps);\nvar StyledPlaceholder = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledPlaceholder\",\n  componentId: \"sc-1x30a0s-2\"\n})([\"position:absolute;left:\", \"px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;\", \";\"], function (props) {\n  return parseMetricToNum(props.theme.global.input.padding) - parseMetricToNum(props.theme.global.control.border.width);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;\n});\nStyledPlaceholder.defaultProps = {};\nObject.setPrototypeOf(StyledPlaceholder.defaultProps, defaultProps);\nvar StyledSuggestions = styled.ol.withConfig({\n  displayName: \"StyledTextInput__StyledSuggestions\",\n  componentId: \"sc-1x30a0s-3\"\n})([\"border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;\n});\nStyledSuggestions.defaultProps = {};\nObject.setPrototypeOf(StyledSuggestions.defaultProps, defaultProps);\nexport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, isValidElement } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { withAnnounce, withFocus, withForwardRef } from '../hocs';\nimport { sizeStyle } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions } from './StyledTextInput';\n\nfunction renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n}\n\nfunction stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n}\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TextInput, _Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeSuggestionIndex: -1,\n      showDrop: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"announce\", function (message, mode) {\n      var _this$props = _this.props,\n          announce = _this$props.announce,\n          suggestions = _this$props.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        announce(message, mode);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsCount\", function () {\n      var _this$props2 = _this.props,\n          suggestions = _this$props2.suggestions,\n          suggestionsCount = _this$props2.messages.suggestionsCount;\n\n      _this.announce(suggestions.length + \" \" + suggestionsCount);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsExist\", function () {\n      var suggestionsExist = _this.props.messages.suggestionsExist;\n\n      _this.announce(suggestionsExist);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsIsOpen\", function () {\n      var suggestionIsOpen = _this.props.messages.suggestionIsOpen;\n\n      _this.announce(suggestionIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestion\", function (index) {\n      var _this$props3 = _this.props,\n          suggestions = _this$props3.suggestions,\n          enterSelect = _this$props3.messages.enterSelect;\n\n      if (suggestions && suggestions.length > 0) {\n        var labelMessage = stringLabel(suggestions[index]);\n\n        _this.announce(labelMessage + \" \" + enterSelect);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetSuggestions\", function () {\n      // delay this to avoid re-render interupting event delivery\n      // https://github.com/grommet/grommet/issues/2154\n      // 10ms was chosen empirically based on ie11 using TextInput\n      // with and without a FormField.\n      clearTimeout(_this.resetTimer);\n      _this.resetTimer = setTimeout(function () {\n        var suggestions = _this.props.suggestions;\n\n        if (suggestions && suggestions.length) {\n          _this.setState({\n            activeSuggestionIndex: -1,\n            showDrop: true,\n            selectedSuggestionIndex: -1\n          }, _this.announceSuggestionsCount);\n        }\n      }, 10);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedSuggestionIndex\", function () {\n      var _this$props4 = _this.props,\n          suggestions = _this$props4.suggestions,\n          value = _this$props4.value;\n      var suggestionValues = suggestions.map(function (suggestion) {\n        if (typeof suggestion === 'object') {\n          return suggestion.value;\n        }\n\n        return suggestion;\n      });\n      return suggestionValues.indexOf(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onShowSuggestions\", function () {\n      // Get values of suggestions, so we can highlight selected suggestion\n      var selectedSuggestionIndex = _this.getSelectedSuggestionIndex();\n\n      _this.setState({\n        showDrop: true,\n        activeSuggestionIndex: -1,\n        selectedSuggestionIndex: selectedSuggestionIndex\n      }, _this.announceSuggestionsIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNextSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state = _this.state,\n          activeSuggestionIndex = _this$state.activeSuggestionIndex,\n          showDrop = _this$state.showDrop;\n\n      if (suggestions && suggestions.length > 0) {\n        if (!showDrop) {\n          _this.onShowSuggestions();\n        } else {\n          event.preventDefault();\n          var index = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n\n          _this.setState({\n            activeSuggestionIndex: index\n          }, function () {\n            return _this.announceSuggestion(index);\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPreviousSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state2 = _this.state,\n          activeSuggestionIndex = _this$state2.activeSuggestionIndex,\n          showDrop = _this$state2.showDrop;\n\n      if (suggestions && suggestions.length > 0 && showDrop) {\n        event.preventDefault();\n        var index = Math.max(activeSuggestionIndex - 1, 0);\n\n        _this.setState({\n          activeSuggestionIndex: index\n        }, function () {\n          return _this.announceSuggestion(index);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickSuggestion\", function (suggestion, event) {\n      var _this$props5 = _this.props,\n          forwardRef = _this$props5.forwardRef,\n          onSelect = _this$props5.onSelect;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (onSelect) {\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n        event.suggestion = suggestion;\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        onSelect(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionSelect\", function (event) {\n      var _this$props6 = _this.props,\n          forwardRef = _this$props6.forwardRef,\n          onSelect = _this$props6.onSelect,\n          suggestions = _this$props6.suggestions;\n      var activeSuggestionIndex = _this.state.activeSuggestionIndex;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (activeSuggestionIndex >= 0) {\n        event.preventDefault(); // prevent submitting forms\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n\n        event.suggestion = suggestions[activeSuggestionIndex];\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        if (onSelect) {\n          onSelect(event);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var _this$props7 = _this.props,\n          onFocus = _this$props7.onFocus,\n          suggestions = _this$props7.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        _this.announceSuggestionsExist();\n      }\n\n      _this.resetSuggestions();\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      var onBlur = _this.props.onBlur;\n      clearTimeout(_this.resetTimer);\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var onChange = _this.props.onChange;\n\n      _this.resetSuggestions();\n\n      if (onChange) {\n        onChange(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var showDrop = _this.state.showDrop;\n\n      if (showDrop) {\n        // we have to stop both synthetic events and native events\n        // drop and layer should not close by pressing esc on this input\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          showDrop: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTab\", function () {\n      _this.setState({\n        showDrop: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestions\", function () {\n      var _this$props8 = _this.props,\n          suggestions = _this$props8.suggestions,\n          theme = _this$props8.theme;\n      var _this$state3 = _this.state,\n          activeSuggestionIndex = _this$state3.activeSuggestionIndex,\n          selectedSuggestionIndex = _this$state3.selectedSuggestionIndex;\n      return React.createElement(StyledSuggestions, null, React.createElement(InfiniteScroll, {\n        items: suggestions,\n        step: theme.select.step\n      }, function (suggestion, index) {\n        var plain = typeof suggestion === 'object' && typeof isValidElement(suggestion.label);\n        return React.createElement(\"li\", {\n          key: stringLabel(suggestion) + \"-\" + index\n        }, React.createElement(Button, {\n          active: activeSuggestionIndex === index || selectedSuggestionIndex === index,\n          fill: true,\n          hoverIndicator: \"background\",\n          onClick: function onClick(event) {\n            _this.onClickSuggestion(suggestion, event);\n          }\n        }, plain ? renderLabel(suggestion) : React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderLabel(suggestion))));\n      }));\n    });\n\n    return _this;\n  }\n\n  TextInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var suggestions = nextProps.suggestions;\n    var showDrop = prevState.showDrop;\n\n    if (showDrop && (!suggestions || !suggestions.length)) {\n      return {\n        showDrop: false\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = TextInput.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props9 = this.props,\n        onSuggestionsOpen = _this$props9.onSuggestionsOpen,\n        onSuggestionsClose = _this$props9.onSuggestionsClose,\n        suggestions = _this$props9.suggestions;\n    var showDrop = this.state.showDrop;\n\n    if (showDrop !== prevState.showDrop) {\n      if (showDrop && onSuggestionsOpen) {\n        onSuggestionsOpen();\n      } else if (onSuggestionsClose) {\n        onSuggestionsClose();\n      }\n    }\n\n    if (!showDrop && suggestions && (!prevProps.suggestions || !prevProps.suggestions.length)) {\n      this.resetSuggestions();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.resetTimer);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props10 = this.props,\n        defaultValue = _this$props10.defaultValue,\n        dropAlign = _this$props10.dropAlign,\n        dropHeight = _this$props10.dropHeight,\n        dropTarget = _this$props10.dropTarget,\n        dropProps = _this$props10.dropProps,\n        forwardRef = _this$props10.forwardRef,\n        id = _this$props10.id,\n        placeholder = _this$props10.placeholder,\n        plain = _this$props10.plain,\n        theme = _this$props10.theme,\n        value = _this$props10.value,\n        onKeyDown = _this$props10.onKeyDown,\n        rest = _objectWithoutPropertiesLoose(_this$props10, [\"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"forwardRef\", \"id\", \"placeholder\", \"plain\", \"theme\", \"value\", \"onKeyDown\"]);\n\n    delete rest.onChange; // se we can manage in this.onChange()\n\n    delete rest.onSuggestionsOpen;\n    delete rest.onSuggestionsClose;\n    var showDrop = this.state.showDrop; // needed so that styled components does not invoke\n    // onSelect when text input is clicked\n\n    delete rest.onSelect;\n    var drop;\n\n    if (showDrop) {\n      drop = React.createElement(Drop, _extends({\n        id: id ? \"text-input-drop__\" + id : undefined,\n        align: dropAlign,\n        responsive: false,\n        target: dropTarget || (forwardRef || this.inputRef).current,\n        onClickOutside: function onClickOutside() {\n          return _this2.setState({\n            showDrop: false\n          });\n        },\n        onEsc: function onEsc() {\n          return _this2.setState({\n            showDrop: false\n          });\n        }\n      }, dropProps), React.createElement(ContainerBox, {\n        overflow: \"auto\",\n        dropHeight: dropHeight\n      }, this.renderSuggestions()));\n    }\n\n    return React.createElement(StyledTextInputContainer, {\n      plain: plain\n    }, placeholder && typeof placeholder !== 'string' && !value ? React.createElement(StyledPlaceholder, null, placeholder) : null, React.createElement(Keyboard, {\n      onEnter: this.onSuggestionSelect,\n      onEsc: this.onEsc,\n      onTab: this.onTab,\n      onUp: this.onPreviousSuggestion,\n      onDown: this.onNextSuggestion,\n      onKeyDown: onKeyDown\n    }, React.createElement(StyledTextInput, _extends({\n      id: id,\n      ref: forwardRef || this.inputRef,\n      autoComplete: \"off\",\n      plain: plain,\n      placeholder: typeof placeholder === 'string' ? placeholder : undefined\n    }, rest, {\n      defaultValue: renderLabel(defaultValue),\n      value: renderLabel(value),\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onChange: this.onChange\n    }))), drop);\n  };\n\n  return TextInput;\n}(Component);\n\n_defineProperty(TextInput, \"defaultProps\", {\n  dropAlign: {\n    top: 'bottom',\n    left: 'left'\n  },\n  messages: {\n    enterSelect: '(Press Enter to Select)',\n    suggestionsCount: 'suggestions available',\n    suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n    suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n  }\n});\n\nObject.setPrototypeOf(TextInput.defaultProps, defaultProps);\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withTheme, withAnnounce, withForwardRef)(TextInputDoc || TextInput);\nexport { TextInputWrapper as TextInput };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// eslint-disable-next-line max-len\n\n/* eslint-disable react/no-multi-comp, react/prefer-stateless-function, max-classes-per-file */\nimport React, { Children, cloneElement, Component } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { parseMetricToNum } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { withFocus } from '../hocs';\nimport { FormContext } from '../Form/FormContext';\n\nvar validateField = function validateField(required, validate, messages) {\n  return function (value, data) {\n    var error;\n\n    if (required && (value === undefined || value === '')) {\n      error = messages.required;\n    } else if (validate) {\n      if (typeof validate === 'function') {\n        error = validate(value, data);\n      } else if (validate.regexp) {\n        if (!validate.regexp.test(value)) {\n          error = validate.message || messages.invalid;\n        }\n      }\n    }\n\n    return error;\n  };\n};\n\nvar FormFieldBox = styled(Box).withConfig({\n  displayName: \"FormField__FormFieldBox\",\n  componentId: \"m9hood-0\"\n})([\"\", \"\"], function (props) {\n  return props.theme.formField.extend;\n});\n\nvar FormFieldContent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(FormFieldContent, _Component);\n\n  function FormFieldContent() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"renderChildren\", function (value, update) {\n      var _this$props = _this.props,\n          name = _this$props.name,\n          checked = _this$props.checked,\n          component = _this$props.component,\n          required = _this$props.required,\n          valueProp = _this$props.value,\n          _onChange = _this$props.onChange,\n          rest = _objectWithoutPropertiesLoose(_this$props, [\"name\", \"checked\", \"component\", \"required\", \"value\", \"onChange\"]);\n\n      delete rest.className;\n      var Input = component || TextInput;\n\n      if (Input === CheckBox) {\n        return React.createElement(Input, _extends({\n          name: name,\n          checked: value[name] !== undefined ? value[name] : checked || false,\n          onChange: function onChange(event) {\n            update(name, event.target.checked);\n            if (_onChange) _onChange(event);\n          }\n        }, rest));\n      }\n\n      return React.createElement(Input, _extends({\n        name: name,\n        value: value[name] !== undefined ? value[name] : valueProp || '',\n        onChange: function onChange(event) {\n          update(name, event.value || event.target.value || '');\n          if (_onChange) _onChange(event);\n        },\n        plain: true,\n        focusIndicator: false\n      }, rest));\n    });\n\n    return _this;\n  }\n\n  var _proto = FormFieldContent.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props2 = this.props,\n        checked = _this$props2.checked,\n        context = _this$props2.context,\n        name = _this$props2.name,\n        value = _this$props2.value;\n\n    if (context && context.value[name] === undefined && (value !== undefined || checked !== undefined)) {\n      context.update(name, value !== undefined ? value : checked);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        children = _this$props3.children,\n        className = _this$props3.className,\n        component = _this$props3.component,\n        context = _this$props3.context,\n        error = _this$props3.error,\n        focus = _this$props3.focus,\n        help = _this$props3.help,\n        htmlFor = _this$props3.htmlFor,\n        label = _this$props3.label,\n        name = _this$props3.name,\n        pad = _this$props3.pad,\n        required = _this$props3.required,\n        style = _this$props3.style,\n        theme = _this$props3.theme,\n        validate = _this$props3.validate,\n        onBlur = _this$props3.onBlur,\n        onFocus = _this$props3.onFocus,\n        margin = _this$props3.margin;\n    var formField = theme.formField;\n    var border = formField.border;\n    var normalizedError = error;\n    var contents = children;\n\n    if (context) {\n      var addValidation = context.addValidation,\n          errors = context.errors,\n          value = context.value,\n          update = context.update,\n          messages = context.messages;\n      addValidation(name, validateField(required, validate, messages));\n      normalizedError = error || errors[name];\n      contents = children || this.renderChildren(value, update);\n    }\n\n    if (pad) {\n      contents = React.createElement(Box, formField.content, contents);\n    }\n\n    var borderColor;\n\n    if (focus && !normalizedError) {\n      borderColor = 'focus';\n    } else if (normalizedError) {\n      borderColor = border && border.error.color || 'status-critical';\n    } else {\n      borderColor = border && border.color || 'border';\n    }\n\n    var abut;\n    var abutMargin;\n    var outerStyle = style;\n\n    if (border) {\n      var normalizedChildren = children ? Children.map(children, function (child) {\n        if (child) {\n          return cloneElement(child, {\n            plain: true,\n            focusIndicator: false,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }\n\n        return child;\n      }) : contents;\n      contents = React.createElement(Box, {\n        ref: function ref(_ref) {\n          _this2.childContainerRef = _ref;\n        },\n        border: border.position === 'inner' ? _extends({}, border, {\n          side: border.side || 'bottom',\n          color: borderColor\n        }) : undefined\n      }, normalizedChildren);\n      abut = border.position === 'outer' && (border.side === 'all' || border.side === 'horizontal' || !border.side);\n\n      if (abut) {\n        // marginBottom is set to overlap adjacent fields\n        abutMargin = {\n          bottom: '-1px'\n        };\n\n        if (margin) {\n          abutMargin = margin;\n        } else if (border.size) {\n          // if the user defines a margin,\n          // then the default margin below will be overriden\n          abutMargin = {\n            bottom: \"-\" + parseMetricToNum(theme.global.borderSize[border.size] || border.size) + \"px\"\n          };\n        }\n\n        outerStyle = _extends({\n          position: focus ? 'relative' : undefined,\n          zIndex: focus ? 10 : undefined\n        }, style);\n      }\n    }\n\n    return React.createElement(FormFieldBox, {\n      className: className,\n      border: border && border.position === 'outer' ? _extends({}, border, {\n        color: borderColor\n      }) : undefined,\n      margin: abut ? abutMargin : margin || _extends({}, formField.margin),\n      style: outerStyle\n    }, label && component !== CheckBox || help ? React.createElement(React.Fragment, null, label && component !== CheckBox && React.createElement(Text, _extends({\n      as: \"label\",\n      htmlFor: htmlFor\n    }, formField.label), label), help && React.createElement(Text, _extends({}, formField.help, {\n      color: formField.help.color[theme.dark ? 'dark' : 'light']\n    }), help)) : undefined, contents, normalizedError && React.createElement(Text, _extends({}, formField.error, {\n      color: formField.error.color[theme.dark ? 'dark' : 'light']\n    }), normalizedError));\n  };\n\n  return FormFieldContent;\n}(Component); // Can't be a functional component because styled-components withTheme() needs\n// to attach a ref.\n\n\nvar FormField =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inheritsLoose(FormField, _Component2);\n\n  function FormField() {\n    return _Component2.apply(this, arguments) || this;\n  }\n\n  var _proto2 = FormField.prototype;\n\n  _proto2.render = function render() {\n    var _this3 = this;\n\n    return React.createElement(FormContext.Consumer, null, function (context) {\n      return React.createElement(FormFieldContent, _extends({\n        context: context\n      }, _this3.props));\n    });\n  };\n\n  return FormField;\n}(Component);\n\nFormField.defaultProps = {};\nObject.setPrototypeOf(FormField.defaultProps, defaultProps);\nvar FormFieldDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FormFieldDoc = require('./doc').doc(FormField);\n}\n\nvar FormFieldWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withTheme)(FormFieldDoc || FormField);\nexport { FormFieldWrapper as FormField };","import styled, { css } from 'styled-components';\nimport { disabledStyle, focusStyle, inputStyle, placeholderStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar plainStyle = css([\"border:none;width:100%;-webkit-appearance:none;\"]);\n\nvar sizeStyle = function sizeStyle(props) {\n  var data = props.theme.text[props.size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar resizeStyle = function resizeStyle(resize) {\n  if (resize === 'horizontal') {\n    return 'resize: horizontal;';\n  }\n\n  if (resize === 'vertical') {\n    return 'resize: vertical;';\n  }\n\n  if (resize) {\n    return 'resize: both;';\n  }\n\n  return 'resize: none;';\n};\n\nvar StyledTextArea = styled.textarea.withConfig({\n  displayName: \"StyledTextArea\",\n  componentId: \"sc-17i3mwp-0\"\n})([\"\", \" width:100%;\", \" \", \" \", \" \", \" \", \" \", \" &::-moz-focus-inner{border:none;outline:none;}\", \";\", \";\"], inputStyle, function (props) {\n  return props.resize !== undefined && resizeStyle(props.resize);\n}, function (props) {\n  return props.fillArg && 'height: 100%;';\n}, function (props) {\n  return props.size && sizeStyle(props);\n}, function (props) {\n  return props.plain && plainStyle;\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.textArea.disabled && props.theme.textArea.disabled.opacity);\n}, placeholderStyle, function (props) {\n  return props.focus && !props.plain && focusStyle;\n}, function (props) {\n  return props.theme.textArea && props.theme.textArea.extend;\n});\nStyledTextArea.defaultProps = {};\nObject.setPrototypeOf(StyledTextArea.defaultProps, defaultProps);\nexport { StyledTextArea };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { compose } from 'recompose';\nimport { Keyboard } from '../Keyboard';\nimport { withFocus, withForwardRef } from '../hocs';\nimport { StyledTextArea } from './StyledTextArea';\n\nvar TextArea = function TextArea(_ref) {\n  var fill = _ref.fill,\n      forwardRef = _ref.forwardRef,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"fill\", \"forwardRef\"]);\n\n  var onEsc = function onEsc(event) {\n    // we have to stop both synthetic events and native events\n    // drop and layer should not close by pressing esc on this input\n    event.stopPropagation();\n    event.nativeEvent.stopImmediatePropagation();\n  };\n\n  return React.createElement(Keyboard, {\n    onEsc: onEsc\n  }, React.createElement(StyledTextArea, _extends({\n    ref: forwardRef,\n    fillArg: fill\n  }, rest)));\n};\n\nvar TextAreaDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextAreaDoc = require('./doc').doc(TextArea);\n}\n\nvar TextAreaWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withForwardRef)(TextAreaDoc || TextArea);\nexport { TextAreaWrapper as TextArea };"],"sourceRoot":""}